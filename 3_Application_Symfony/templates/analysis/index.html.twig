{% extends 'base.html.twig' %}

{% block title %}Hello AnalysisController!{% endblock %}

{% block body %}
<div "main-container-analysis-page">
    <h1 id = "title_analysis">Analysis</h1>
    {# Affichage des données des genres - Optionnel #}
    {#
    {% for viewLine in viewGraphFiveDim %}
                <div>
                    <div>
                        <h5>Nom du genre : {{viewLine.label}}</h5>
                        <p>Nombre de jeux : {{viewLine.nbGames}}</p>
                        <p>Note moyenne : {{viewLine.avgReviewScore}}</p>
                    </div>
                </div>
    {% endfor %} 
    #}

    <div>
        <p>This page aims to showcase visuals that provide an overview of video game sales on Steam over the past 20 years. These visuals have been designed to be impactful and highly valuable, giving you all the insights you need to identify the dominant themes for your next campaign.</p>
        <p>Next to or below each chart, complementary text has been added to clarify certain aspects and enhance understanding.</p>
        </br>
        </br>
    </div>

    {# Créer une section par graphe qui contient le canvas et le texte descriptif/explicatif #}
    <div class="ligne_graphique_texte">
        <section class="analysis-section-graph" id="premier_graph">
            <h5>Evolution of the Number of New Games Per Year Since 2004</h5>
            <div class="graph_R_ggplot2-container flex_container">
                <img class="graphe_R" src="{{asset('RGraph/Analysis/results/graphe_diagramme_Jeu_Annee.png')}}"></img>
            </div> 
            <div class="flex_container_texte">
                <p>The segmented bar chart, categorized by publisher skill level, aims to illustrate the dynamics of game releases over the past 20+ years. It tracks trends among different levels of creators regarding the publication of new video games.<p>
                <p>For clarity, the year 2004 was chosen as the starting point, as the number of releases prior to that was negligible.<p>
            </div>
        </section>


        <section class="analysis-section-graph" id="deuxieme_graph">
            <h5>Evolution of the number of copies sold by genres and per year since 1997</h5>
            <div class="graphPeriodGenre-container flex_container">
                {{render_chart(chart_year, {'class':"graphPeriodGenre"})}}
            </div> 
            <div class="flex_container_texte">
                <p>The line charts complement the analysis by offering both annual and monthly views of the total revenue generated by the category. The annual perspective enhances the first chart, while the monthly breakdown provides more precise insights into purchasing and video game release trends throughout a calendar year.<p>
                <p>All categories are represented with distinct color-coded lines.<p>
                </br> 
            </div>
            <h5>Evolution of the number of copies sold by genres for each month</h5>
            <div class="graphPeriodGenre-container flex_container">
                {{render_chart(chart_month, {'class':"graphPeriodGenre"})}}
            </div> 
        </section>
    </div>

    <!--<div class="ligne_graphique">-->
    <section class="analysis-section-graph ligne_graphique_texte">
        <div class="graphFiveDim-container flex_container" id="troisieme_graph">
            <h5>Which genres are the most valuables ?</h5>
            <canva>{{render_chart(chartFiveDim)}}</canva>
        </div>
        <div id="quatrieme_graph">
            <p>This scatter plot is designed to provide insights into both "strong" and "weak" categories. We relied on two highly significant variables in our context (revenue and the number of copies sold, representing volume) to shed light on this topic.<p>
            <p>To add nuance to the analysis, we decided to display the total number of games associated with each category by varying the size of the points: the more games linked to a category, the larger the corresponding point.<p>
        </div>
    </section>


    <section class="analysis-section-graph ligne_graphique_texte">
        <div id="quatrieme_graph">
            <p>The following scatter plot offers a more comprehensive view of the video game market on the platform. In addition to reusing familiar but central metrics (number of copies sold and revenue), we incorporated two additional dimensions: the color of the points to represent the game's rating and their shape to indicate the publisher's skill level.<p>
            <p>This chart's inclusion is justified by the desire to explore these key variables in our context from different perspectives. By reusing previously analyzed variables in combination with new dimensions, the scatter plot enables multiple interpretations of the data through diverse analytical lenses.<p>
            <p>Similar to the analysis examining the relationship between well-rated games and average playtime, this chart explores the correlations between a game's economic success and its popularity. While these two variables often align, it could be worthwhile, in the context of a relaunch strategy, to highlight a profitable game that may not have been fully appreciated by the community due to potentially unjust reasons.<p>
        </div>
        <div class="graph_R_ggplot2-container flex_container" id="troisieme_graph">
            <h5>Is selling games a source of significant income ?</h5>
            <img class="graphe_R" src="{{asset('RGraph/Analysis/results/quatre_dimensions_copy_sold_revenue.png')}}"></img>
        </div>
    </section>
    <!--</div>-->

    <!--test graph remy avec le code qui n'a pas pu etre visualisé (la page analysis chez moi ne marche pas) -->

    <section class="analysis-section-graph ligne_graphique_texte">
        <div class="graphFiveDim-container flex_container" id="troisieme_graph"> 
            <h5>Visualization of the first two ACP axes by clusters</h5>
            <img class="graphe_R" src="{{asset('RGraph/Analysis/results/ACP_indiv_var.png')}}"></img>
        </div>
        <div id="quatrieme_graph">
            <h5>PCA graph of variables</h5>
            <img class="graphe_R" id="cercle_correlation" src="{{asset('RGraph/Analysis/results/graphe_ACP_cercle_cor.png')}}"></img>
            <p>Applying a PCA allows us to synthesize the reading and interpretation of our data. In order to provide a complete understanding, we have projected both the graph of individuals and variables. Reading the direction of the arrows of the latter allows us to have an idea of ​​the value associated with an individual for this variable: a variable whose arrow tends to the right on the circle of correlations assumes that the individuals furthest to the right in terms of individuals have a higher value compared to the average of individuals. This approach is made possible by the fact that these two graphs share the same axes, namely the factorial axes calculated by the PCA.<p>
        </div>
    </section>
    
    <div class="analysis-section-graph container_multi_graph_texte">
        <section id="texte_multi_graph">
            <div id="container_texte">
                <p>Building on the bar chart illustrating the evolution of game releases, we created a scatter plot that represents each production based on its rating and the number of hours played. For clarity, this chart has been independently produced for the four publisher levels.<p>
                <p>The purpose of these visuals is to address a practical question: should Steam prioritize games with longer average playtimes to satisfy the community (as indicated by high review scores)?<p>
                <p>According to our analysis, Steam may benefit more from focusing on shorter-duration games, allowing the community to try multiple titles. A "monopoly" scenario where a single major game dominates could raise visibility issues for other productions.<p>
                <p>That said, longer playtimes can also be seen as a sign of players deeply engaging with the content, which could reflect strong satisfaction and loyalty.<p>
                <p>These charts offer a perspective to help guide the selection for the next campaign.<p>
            </div>
        </section>
        
        <section id="multi_graph_display">
            <div class="graph_R_ggplot2-container">
                <div class="container_multi_graph">
                    <h5 id="titre_multi_graph">Overall Game Ratings by Publisher Class and Average Playtime</h5>
                    <img class="graphe_R multi_graph" src="{{asset('RGraph/Analysis/results/GameAAARevPerHours.png')}}"></img>
                    <img class="graphe_R multi_graph" src="{{asset('RGraph/Analysis/results/GameAARevPerHours.png')}}"></img>
                    <img class="graphe_R multi_graph" src="{{asset('RGraph/Analysis/results/GameHobbyistRevPerHours.png')}}"></img>
                    <img class="graphe_R multi_graph" src="{{asset('RGraph/Analysis/results/GameIndieRevPerHours.png')}}"></img>
                </div>
            </div>
        </section>
    </div>

</div>
{% endblock %}